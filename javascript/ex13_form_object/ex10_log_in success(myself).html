<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <style>
        .container{
            width:1000px; height: 200px;
            margin-top: 300px;
            border: 1px solid lightcoral;
            border-radius: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        .box {
            width: 90%; height: 60%;
            border: 1px solid lightsalmon;
            border-radius: 20px;
            font-size: 60px;
            line-height: 1.8em;
            text-align: center;
        }
        .btnBox {
            margin-top: 300px;
            display:flex;
        }
        .logOut {
            margin-left:auto; margin-right:100px;
            text-decoration: none;
            color: black;
        }


    </style>
</head>
<body>
    <div class="container">
        <div class="box">
            <div id="log">로그인을 해주세요!!</div>
        </div>
    </div>
    <div class="btnBox">
        <a class="logOut" href="#">로그아웃</a>
    </div>

    <script>
        const log = document.querySelector('#log')
        const btnBox = document.querySelector('.btnBox')
        const logOut = document.querySelector('.logOut')

        logOut.addEventListener('click', ()=> {
            let decision = confirm('정말 떠나시겠습니까???')
            if(decision) {
                deleteCookie(getCookie('loggedInId'))
                log.innerHTML = `로그인을 해주세요!!`
                btnBox.innerHTML = `<a class="logOut" href="ex10_log_in(myself).html">로그인하기</a>`
                // location.href= 'ex10_log_in(myself).html'
            }
            
        })

        if (getCookie('loggedInId')) {
            log.innerHTML = `${getCookie('loggedInId')}님 환영합니다 :b`
        }

        function getCookie(name) {
            var value = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)')
            return value? value[2] : null
        }

        function deleteCookie(loggedInId, exp=1) {
            var date = new Date()
            date.setTime(date.getTime() + exp*1)
            document.cookie = 'loggedInId=' + loggedInId + ';expires=' + date.toUTCString() + ';path=/'
        }
    </script>
</body>
</html>